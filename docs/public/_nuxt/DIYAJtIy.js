import{f as w,r as d,p as C,y as S,z as y,o as n,c as l,v as R,A as B,i as s,a as k,j as N,F as b,h as L,k as g,t as D,_ as x,g as H,b as f}from"./Rs97s6Yf.js";import{R as M}from"./b2LC2lA4.js";import"./B8738V2L.js";const V={key:0,class:"results-list"},$=["onClick"],z=w({__name:"SearchBar",props:{plants:{}},emits:["select"],setup(_,{emit:o}){const r=_,p=o,e=d(""),t=d([]),m=d(10),i=()=>{if(!e.value){t.value=[];return}t.value=r.plants.filter(a=>a.scientificName.toLowerCase().includes(e.value.toLowerCase()))},h=a=>{p("select",a),t.value=[]};C(()=>r.plants,a=>{t.value=a});const v=()=>{const u=window.innerHeight-100;m.value=Math.floor(u/40)};return S(()=>{window.addEventListener("resize",v)}),y(()=>{window.removeEventListener("resize",v)}),(a,u)=>(n(),l("div",null,[R(k("input",{"onUpdate:modelValue":u[0]||(u[0]=c=>N(e)?e.value=c:null),type:"text",placeholder:"特徴を学名から検索",class:"search-input",onInput:i},null,544),[[B,s(e)]]),s(e)&&s(t).length?(n(),l("ul",V,[(n(!0),l(b,null,L(s(t),c=>(n(),l("li",{key:c.scientificName,class:"result-item",onClick:F=>h(c)},D(c.scientificName),9,$))),128))])):g("",!0)]))}}),E=x(z,[["__scopeId","data-v-b3faf860"]]),I={class:"container"},P={key:0,class:"plant-details"},j=w({__name:"search",setup(_){const o=H(),r=o.plants,p=o.characterSet,e=d(null),t=i=>{e.value=i},m=()=>{e.value=null};return(i,h)=>(n(),l("div",I,[f(E,{plants:s(r),onSelect:t},null,8,["plants"]),s(e)?(n(),l("div",P,[f(M,{class:"result-card","character-set":s(p),plant:s(e)},null,8,["character-set","plant"]),k("button",{onClick:m},"戻る")])):g("",!0)]))}}),T=x(j,[["__scopeId","data-v-00047be4"]]);export{T as default};
