import{n as C,r as _,g as y,A as B,h as N,c,B as $,C as I,y as r,a as i,D as L,F as S,s as g,v as x,o as s,t as k,_ as w,x as R,p as H,b as M,z as V}from"./Bq4S_Nqn.js";const b={key:0,class:"results-list"},z=["onClick"],D=C({__name:"SearchBar",props:{plants:{}},emits:["select"],setup(v,{emit:o}){const u=v,p=o,e=_(""),a=_([]),h=_(10),m=()=>{if(!e.value){a.value=[];return}a.value=u.plants.filter(t=>t.scientificName.toLowerCase().includes(e.value.toLowerCase()))},f=t=>{p("select",t),a.value=[]};y(()=>u.plants,t=>{a.value=t});const l=()=>{const n=window.innerHeight-100;h.value=Math.floor(n/40)};return B(()=>{window.addEventListener("resize",l)}),N(()=>{window.removeEventListener("resize",l)}),(t,n)=>(s(),c("div",null,[$(i("input",{type:"text","onUpdate:modelValue":n[0]||(n[0]=d=>L(e)?e.value=d:null),placeholder:"ç‰¹å¾´ã‚’å­¦åã‹ã‚‰æ¤œç´¢",class:"search-input",onInput:m},null,544),[[I,r(e)]]),r(e)&&r(a).length?(s(),c("ul",b,[(s(!0),c(S,null,g(r(a),d=>(s(),c("li",{key:d.scientificName,onClick:J=>f(d),class:"result-item"},k(d.scientificName),9,z))),128))])):x("",!0)]))}}),E=w(D,[["__scopeId","data-v-6054537f"]]),P={class:"character-card"},F={class:"description"},U=C({__name:"CharacterCard",props:{description:{}},setup(v){return(o,u)=>(s(),c("div",P,[i("div",F,k(o.description),1)]))}}),j=w(U,[["__scopeId","data-v-1c5a57dd"]]),q={key:0,class:"plant-details"},A=C({__name:"search",setup(v){const o=R(),u=o.plants,p=o.characterSet,e=_(null),a={has_hair:"ğŸŒ¿",revolute_margin:"ğŸƒ"},h=l=>{e.value=l},m=()=>{e.value=null},f=H(()=>!e.value||!p.value?[]:e.value.characters.map(l=>p.value[l]));return(l,t)=>(s(),c("div",null,[t[0]||(t[0]=i("h1",null,"æ¤ç‰©ã®ç‰¹å¾´æ¤œç´¢",-1)),M(E,{plants:r(u),onSelect:h},null,8,["plants"]),r(e)?(s(),c("div",q,[i("h2",null,k(r(e).scientificName),1),i("div",null,[(s(!0),c(S,null,g(r(f),n=>(s(),V(j,{key:n.id,icon:a[n.id]||"ğŸ”",description:n.characterJpn},null,8,["icon","description"]))),128))]),i("button",{onClick:m},"æˆ»ã‚‹")])):x("",!0)]))}}),G=w(A,[["__scopeId","data-v-85f5cd79"]]);export{G as default};
